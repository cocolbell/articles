## 代码
```javaScript
function foo (num) {
    num == 1 && console.log(1) ||
    num == 2 && console.log(2) ||
    num == 3 && console.log(3)
}
foo(1)  //1
foo(3)  //3
```
## 问题
代码中的 && 和 || 到底起到了什么作用？

## 分析
要理解上面的代码，首先我们要先来拆分一下代码

先看这一段代码：
```javaScript
1 == 1 && console.log(1)
```
这段代码会先判断第一个操作数1 == 1是否为真，如果为真，就对第二个操作数求值，即执行console.log(1)，如果第一个操作数不为真，则不对第二个操作数求值，即不执行console.log(1)代码

这其实就是所谓的**短路操作符**，我们在很多知名的插件或者库中都能看到类似的代码

在JavaScript中，逻辑与操作（&&）和逻辑或操作（||）都属于短路操作符，即

**如果第一个操作数可以决定结果，则不再对第二个操作数求值**

对于逻辑与操作来说，只要第一个操作数的值是false，就不会对第二个操作数求值，相当于if语句

对于逻辑或来说，只要第一个操作数的值是true，就不会对第二个操作数求值，相当于else语句

即
```javaScript
1 == 1 && console.log(1)
等价于
if (1 == 1) console.log(1)

1 == 1 || console.log(1)
等价于
if (1 == 1) ;
else console.log(1)
```
这种方式可以简化很多我们日常使用的代码，让我们来看一下短路操作符的应用场景：

### 函数默认参数
在模仿函数重载时，我们希望即使函数运行时没有传入参数，这个参数也应该有一个默认值

比如这样：
```javaScript
function add (x, y) {
    let y = arguments[1] || 0;
    return x + y;
}
add(1,5)  //6
add(1)    //0
```
> 需要注意的是，如果传进来的参数本身就会被转换成false值的话，这样就会违背代码设计初衷，不推荐使用
### 类型检查
```javaScript
typeof callback === 'function' && callback();
```
在不确定变量类型时，保证callback是函数，再来执行callback，避免抛出错误

其实，说白了就是判断语句的简化，任何使用判断语句的情况都可以考虑使用短路操作符代替

完

## 参考资料

*《JavaScript高级程序设计》*——操作符
