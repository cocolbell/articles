## 前言
浏览器安全的基石是"同源政策"（same-origin policy），同源策略为用户提供了安全保障，但作为开发者，很多时候又必须与浏览器的同源策略打交道，规避同源策略，本文旨在打算介绍浏览器的同源策略以及如何针对同源策略进行跨域。

## 一、同源策略

### 1.1 定义

首先，让我们认识下同源策略（same-origin policy）

同源策略，它是由Netscape提出的一个著名的安全策略。用于限制从一个源加载的文档或脚本如何与来自另一个源的资源进行交互。

这是一个用于隔离潜在恶意文件的关键的安全机制，现在所有支持JavaScript 的浏览器都会使用这个策略。

那么怎么样才算是同源呢？

### 1.2 同源的条件

所谓的同源需要满足以下**三个条件**：
* 域名相同
* 协议相同
* 端口相同

比如说，一个页面的URL为 http://store.company.com/dir/page.html ，那么与这个
同源与不同源的URL列表如下：

URL| 同源情况
---|---
http://store.company.com/dir2/other.html | 同源，协议、端口号和域名都相同
https://store.company.com/secure.html | 非同源，协议不同( http和https)
http://store.company.com:81/dir/etc.htmll | 非同源，端口号不同( 81和80)
http://news.company.com/dir/other.html | 非同源，域名不同( store和news)

看完这些例子，相信大家都懂了如何区分两个页面是否同源

那么问题来了？浏览器如何限制两个不同源页面的交互呢？

### 1.3 限制内容
浏览器的同源策略，只会对三种行为生效，这三种行为分别是：

* 获取非同源页面之间的Cookie、LocalStorage 和 IndexDB 
* 获取非同源页面之间的DOM（通过iframe）
* 非同源页面之间的AJAX请求发送

通过对这三种行为的限制，保护了用户的浏览安全，但是这些策略对开发者来说有时候又过于严格，所以，下面我们会详细介绍如何规避浏览器的同源策略——即跨域

## 二、跨域方案

上面我们讲到浏览器同源策略会影响的三种行为，下面我们将逐一来认识如何对每种行为进行合理的跨域

### 2.1 Cookies
### 2.2 Iframe
### 2.3 AJAX请求
不同源页面的AJAX是无法请求的，AJAX要想解决跨域问题可以采用以下几种方案
* 跨域资源共享（CORS）
* JSONP
* WebSocket
* 代理服务器
* 






写给自己的，有时间用两个本地服务器测试一下